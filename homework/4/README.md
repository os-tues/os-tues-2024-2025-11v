# Домашна работа №4

Домашна работа №4 включва задачи свързани с нишки, сокети и мрежова комуникация. Състои се от 2 задачи, като всяка задача се оценява максимално с 200 точки. Получавате отделна оценка за всяка задача. Формулата за оценките е:

```plaintext
оценка = 2 + (точки / 50)
```

Срокът на домашната работа е **до 08.06.2025 (Неделя), 23:59:59**.

## ⚠️ ВАЖНО ⚠️

Напомням ви, че домашното ще бъде проверявано за плагиатство! Това включва и използването
на text-transformer невронни мрежи за написването решенията си, като ChatGPT, GitHub
Copilot и подобни услуги за генериране на код. Ако случайно сте почнали домашното
и casually сте се възползвали от такива услуги, това, което искам да направите е:

- Да спрете Copilot/каквото друго ползвате
- Да изтриете целия код, който имате досега
- Да почнете начисто и да си работите самостоятелно, като всякакъв код, копиран
  от някъде, да бъде ясно деклариран като коментар и по време на евентуална защита.

Имайте предвид, че невронните мрежи не са магия - реално са доста детерминистични
в изхода си и генерират доста сходен код, който после лесно се забелязва при проверката
за еднаквост на домашните ви.

Също така, важно е да отбележа, че преди крайния срок всякакво споделяне на решения
е забранено.

Това включва:

- Да пратите решението си на някой друг.
- Да го покажете на другарче, за да "почерпи идеи".
- Да го сложите някъде публично преди крайния срок.

От друга страна, не се притеснявайте да напишете най-простия възможен код, понеже
"други хора ще предадат същото решение". Това също се разпознава лесно, и разбира
се, няма да сметна, че сте преписвали. Пишете най-добрия код, на който сте способни,
не споделяйте решенията си и няма да има причина да се притеснявате, че ще помислим,
че сте преписвали.

Ако ви е нужна помощ с каквото и да е - разбиране на условието, кодът, качването
му и т.н., не се притеснявайте да се свържете с мен в по
имейл на `ibozhilov@elsys-bg.org`.


---


# Задача 1: `select` (200 точки)

В задачата ще разработите две С програми — сървър и клиент — които реализират прост „многопотребителски чат“. Всеки клиент създава TCP-връзка към сървъра, изпраща текстови съобщения и получава обратно всички съобщения, изпратени от другите участници. Сървърът е еднопоточен : той не създава нишки/процеси за всеки клиент, а използва системното повикване `select()`, за да наблюдава едновременно всички активни сокети. При получаване на данни от един клиент сървърът препраща към всички останали, като игнорира изпращача; при затворена връзка освобождава съответния дескриптор. Не забравяйте да поддържате динамичен fd_set.

Клиентската програма приема IP адрес и порт на сървъра като параметри, създава сокет и се свързва. Клиентската програма приема съобщения от стандартния вход и ги изпраща към сървъра през създадения сокет. Също така приема съобщения получени през сокета и ги изписва на стандартния изход.

# Задача 2 - `downloader` (200 точки)
## Основна функционалност
В тази задача ще трябва да реализирате 2 програми - сървър и клиент. Сървърът трябва да има IPv4 адрес и да комуникира чрез TCP. Съответно, при установена връзка от клиента, сървъра трябва да изпрати съдържанието на изображението `image.png`, което ще намерите в директорията `server`.

При стартиране на клиента, той трябва да останови връзка със сървъра (да се изпише грешка, ако това е невъзможно). Съответно, клиентът трябва да прочете полученото изображение и да го запише локално.

## Обслужване на много клиенти

За да получите пълният брой точки, сървърът трябва да може да обработва няколко клиента наведнъж. Това може да се случва посредством отделни нишки за всяка клиентска връзка.

