## 1. Програма за извличане на информация за файл: `stat`

Тази програма демонстрира как да получим подробна информация за даден файл или директория, използвайки системното повикване `stat()`. След като стартираме програмата с път до файл или директория, тя извежда следните метаданни:

- **Размер на файла**  
  Посредством полето `st_size` виждаме големината на файла в байтове.

- **Брой блокове**  
  Чрез `st_blocks` разбираме колко блокове са реално заделени на диска за този файл.

- **inode номер**  
  В `st_ino` се съдържа уникалният идентификатор (inode) на файла в файловата система.

- **Права и тип**  
  В `st_mode` намираме информация както за типа на файла (обикновен файл, директория и т.н.), така и за неговите права за четене, писане и изпълнение.

- **Твърди връзки**  
  Полето `st_nlink` посочва колко други пътища (hard links) реферират същия inode.

- **Собственик и група**  
  `st_uid` показва потребителския идентификатор (UID), а `st_gid` – груповия идентификатор (GID).

- **Времена**  
  И накрая, чрез `ctime(&fileStat.st_atime)`, `ctime(&fileStat.st_mtime)` и `ctime(&fileStat.st_ctime)` можем да видим съответно последното време на достъп, на модификация и на промяна на метаданните.

Тази програма извежда стойностите на полетата за метаданните в I-Node за конкретния файл/директория.

---

## 2. Програма за създаване на директория спрямо файлов дескриптор: `mkdirat`

Функцията `mkdirat()` позволява да създадем нова директория, изхождайки от вече отворена директория (чрез файлов дескриптор). В тази демонстрационна програма:

1. Отваряме директория с `open(име, O_RDONLY)` и получаваме файлов дескриптор.
2. Използваме `mkdirat(dir_fd, dirName, 0755)`, за да създадем нова директория с име `dirName` “вътре” в отворената директория.

Подобно поведение е особено полезно, когато трябва да работим в среди, където директорията е достъпна само през файлов дескриптор (например при `chroot` или различни sandbox механизми).

---

## 3. Програма за създаване на директория: `mkdir`

Това е по-традиционният метод да създадем директория, използвайки функцията `mkdir()`. При подаден път или име на директория:

- Извикваме `mkdir(име, 0755)`, като задаваме и права (в примера 0755).

---

## 4. Програма за прочитане съдържанието на директория: `direntry`

С помощта на `opendir()` и `readdir()` можем да изброим имената на файловете и под-директориите в дадена директория, както и техните inode номера и някои други общи данни:

- `opendir(<път>)` връща указател (директориен поток), сочещ към списъка с файлове и поддиректории.
- В цикъл четем всяка запис (`struct dirent`) чрез `readdir()`.
  - `d_name` дава името (текущия файл или поддиректория).
  - `d_ino` посочва inode номера.
  - `d_type` описва типа на файла (директория, обикновен файл, символна връзка и др.).
- Накрая затваряме директорния поток с `closedir()`.

## Какво представляват директориите и как работи четенето им в `direntry`?

В Unix-подобните системи една директория всъщност е специален **файл**, който съхранява информация за всички файлове и под-директории, намиращи се в нея. Тази информация е подредена във вид на directory entries. Когато използваме функции като `opendir()`, `readdir()`, `closedir()`, ние на практика четем този специален *файл* и извличаме отделните записи от него.

### Как е структурирана една директория (directory file)?

Всеки запис (entry) в директорията съдържа минимум:

1. **inode номер (4 байта)**

2. **Дължина на записа**

3. **Тип на файла**  
   Тук може да се запише дали е обикновен файл (regular file), директория (directory), символна връзка (symlink) и т.н. В `dirent` структурата това обикновено се държи в полето `d_type`.

4. **Дължина на името**  
   Посочва се колко байта е името на файла или директорията. Това позволява да знаем къде свършва този запис и къде да започнем да четем следващия.

5. **Име**  
   Накрая идват реалните символи на името (например "file1", "docs", "pictures" и т.н.). Дължината на това име е определена от горното поле.


---

