
## Семафори

Семафорите са синхронизационни примитиви, които позволяват управление на достъпа до споделени ресурси в многонишкова или многопроцесна среда. Те съдържат брояч, който указва броя на "разрешенията", налични за ресурс. Основните операции със семафори са:

- **sem_wait()**: Намалява числото на брояча. Ако броячът е 0, операцията блокира, докато не стане достъпно разрешение.
- **sem_post()**: Увеличава числото на брояча и позволява на блокираните нишки/процеси да продължат.

### Видове семафори
1. **Анонимни семафори**
   - Използват се само в контекста на едно приложение.
   - Инициализират се с функцията `sem_init()`.

2. **Именувани семафори**
   - Могат да се споделят между различни приложения или несвързани процеси.
   - Инициализират се с функцията `sem_open()` и се идентифицират чрез име.

## Описание на файловете

### `00-anonymous.c`
Този файл демонстрира използването на анонимни семафори:
- **sem_init()**: Инициализира анонимен семафор с начален брояч 10.
- **sem_wait()**: Намалява броя на разрешенията.
- **sem_post()**: Увеличава броя на разрешенията.
- **sem_destroy()**: Унищожава семафора, когато той вече не е необходим.

### `00-named.c`
Този файл демонстрира използването на именувани семафори. Файлът, който представлява семафора може да се намери в директорията `/dev/shm`.
- **sem_open()**: Създава или отваря именуван семафор с начален брояч 10.
- **sem_wait()**: Намалява броя на разрешенията.
- **sem_post()**: Увеличава броя на разрешенията.
- **sem_close()**: Затваря семафора.
- **sem_unlink()**: Премахва именувания семафор.

### `01-library.c`
Този файл показва използването на именувани семафори за синхронизация между процеси:
- Създават се 30 процеса, които четат и записват в различни файлове.
- Използват се функциите **sem_open()**, **sem_wait()**, **sem_post()**, **sem_close()**.
- **critical section**: Частта от кода, където ресурсите се използват, е защитена от семафора.

### `01-library-threads.c`
Този файл демонстрира използването на именувани семафори за синхронизация между нишки:
- Създават се 30 нишки, които четат и записват в различни файлове.
- Използва се структура от данни, за да се предават семафорът и ID-то на нишките.
- Основните функции са аналогични на тези в предишния пример, но са адаптирани за многопоточна среда с `pthread_create()` и `pthread_join()`.

## Основни функции в кода
- **sem_open()**: Създава или отваря именуван семафор.
- **sem_init()**: Инициализира анонимен семафор.
- **sem_wait()**: Блокира, ако няма налични разрешения.
- **sem_post()**: Освобождава разрешение.
- **sem_close()**: Затваря достъпа до именуван семафор.
- **sem_unlink()**: Премахва именуван семафор.
- **sem_destroy()**: Унищожава анонимен семафор.
